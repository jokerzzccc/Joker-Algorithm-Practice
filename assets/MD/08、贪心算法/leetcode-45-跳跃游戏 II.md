# ç›®å½•

[toc]

# leetcode-45-è·³è·ƒæ¸¸æˆ II

- æ—¶é—´ï¼š2023-06-24
- å‚è€ƒé“¾æ¥ï¼š
  - [å¦‚ä½•è¿ç”¨è´ªå¿ƒæ€æƒ³ç©è·³è·ƒæ¸¸æˆ](https://labuladong.gitee.io/algo/di-er-zhan-a01c6/tan-xin-le-9bedf/ru-he-yun--48a7c/)



# 1ã€é¢˜ç›®

- é¢˜ç›®ï¼šhttps://leetcode.cn/problems/jump-game-ii/
- éš¾åº¦ï¼šä¸­ç­‰



ç»™å®šä¸€ä¸ªé•¿åº¦ä¸º n çš„ **0 ç´¢å¼•**æ•´æ•°æ•°ç»„ numsã€‚åˆå§‹ä½ç½®ä¸º nums[0]ã€‚

æ¯ä¸ªå…ƒç´  nums[i] è¡¨ç¤ºä»ç´¢å¼• i å‘å‰è·³è½¬çš„æœ€å¤§é•¿åº¦ã€‚æ¢å¥è¯è¯´ï¼Œå¦‚æœä½ åœ¨ nums[i] å¤„ï¼Œä½ å¯ä»¥è·³è½¬åˆ°ä»»æ„ nums[i + j] å¤„:

- 0 <= j <= nums[i] 
- i + j < n



è¿”å›åˆ°è¾¾ nums[n - 1] çš„æœ€å°è·³è·ƒæ¬¡æ•°ã€‚ç”Ÿæˆçš„æµ‹è¯•ç”¨ä¾‹å¯ä»¥åˆ°è¾¾ nums[n - 1]ã€‚

**æç¤º:**

+ `1 <= nums.length <= 10^4`
+ `0 <= nums[i] <= 1000`
+ é¢˜ç›®ä¿è¯å¯ä»¥åˆ°è¾¾ `nums[n-1]`







# 2ã€é¢˜è§£

## é¢˜ç›®åˆ†æ

**ç°åœ¨çš„é—®é¢˜æ˜¯ï¼Œä¿è¯ä½ ä¸€å®šå¯ä»¥è·³åˆ°æœ€åä¸€æ ¼ï¼Œè¯·é—®ä½ æœ€å°‘è¦è·³å¤šå°‘æ¬¡ï¼Œæ‰èƒ½è·³è¿‡å»**ã€‚



## è§£æ³•ä¸€: åŠ¨æ€è§„åˆ’

### ç®—æ³•åˆ†æ

æˆ‘ä»¬å…ˆæ¥è¯´è¯´åŠ¨æ€è§„åˆ’çš„æ€è·¯ï¼Œé‡‡ç”¨è‡ªé¡¶å‘ä¸‹çš„é€’å½’åŠ¨æ€è§„åˆ’ï¼Œå¯ä»¥è¿™æ ·å®šä¹‰ä¸€ä¸ª `dp` å‡½æ•°ï¼š

```java
// å®šä¹‰ï¼šä»ç´¢å¼• p è·³åˆ°æœ€åä¸€æ ¼ï¼Œè‡³å°‘éœ€è¦ dp(nums, p) æ­¥
int dp(int[] nums, int p);
```

æˆ‘ä»¬æƒ³æ±‚çš„ç»“æœå°±æ˜¯ `dp(nums, 0)`ï¼Œbase case å°±æ˜¯å½“ `p` è¶…è¿‡æœ€åä¸€æ ¼æ—¶ï¼Œä¸éœ€è¦è·³è·ƒï¼š

```java
if (p >= nums.length - 1) {
    return 0;
}
```



è¿™ä¸ªåŠ¨æ€è§„åˆ’åº”è¯¥å¾ˆæ˜æ˜¾äº†ï¼ŒæŒ‰ç…§å‰æ–‡ [åŠ¨æ€è§„åˆ’å¥—è·¯è¯¦è§£](https://labuladong.gitee.io/algo/di-ling-zh-bfe1b/dong-tai-g-1e688/) æ‰€è¯´çš„å¥—è·¯ï¼ŒçŠ¶æ€å°±æ˜¯å½“å‰æ‰€ç«™ç«‹çš„ç´¢å¼• `p`ï¼Œé€‰æ‹©å°±æ˜¯å¯ä»¥è·³å‡ºçš„æ­¥æ•°ã€‚

### ä»£ç 

```java


/**
 * <p>
 * è·³è·ƒæ¸¸æˆ II
 * </p>
 *
 * @author admin
 * @date 2023/6/24
 */
public class leetcode45 {

    public static void main(String[] args) {
        int[] nums = {2, 3, 1, 1, 4};

        Solution01 solution01 = new Solution01();
        System.out.println(solution01.jump(nums));

    }

    /**
     * è§£æ³•ä¸€ï¼šåŠ¨æ€è§„åˆ’
     * è¿™ä¸ªæ—¶é—´å¤æ‚åº¦ä¸º O(n^2) ï¼Œè¿‡é«˜
     */
    private static class Solution01 {

        int[] memo;

        public int jump(int[] nums) {
            int n = nums.length;
            // å¤‡å¿˜å½•éƒ½åˆå§‹åŒ–ä¸º nï¼Œç›¸å½“äº INT_MAX
            // å› ä¸ºä» 0 è·³åˆ° n - 1 æœ€å¤š n - 1 æ­¥
            memo = new int[n];
            Arrays.fill(memo, n);

            return dp(nums, 0);

        }

        /**
         * å®šä¹‰ï¼šä»ç´¢å¼• p è·³åˆ°æœ€åä¸€æ ¼ï¼Œè‡³å°‘éœ€è¦ dp(nums, p) æ­¥
         */
        private int dp(int[] nums, int p) {
            int n = nums.length;
            // base case
            if (p >= n - 1) {
                return 0;
            }
            // å­é—®é¢˜å·²ç»è®¡ç®—è¿‡
            if (memo[p] != n) {
                return memo[p];
            }

            int curSteps = nums[p];
            // ä½ å¯ä»¥é€‰æ‹©è·³ 1 æ­¥ï¼Œ2 æ­¥...
            for (int i = 1; i <= curSteps; i++) {
                // ç©·ä¸¾æ¯ä¸€ä¸ªé€‰æ‹©
                // è®¡ç®—æ¯ä¸€ä¸ªå­é—®é¢˜çš„ç»“æœ
                int subProblem = dp(nums, i + p);
                // å–å…¶ä¸­æœ€å°çš„ä½œä¸ºæœ€ç»ˆç»“æœ
                memo[p] = Math.min(memo[p], subProblem + 1);
            }

            return memo[p];
        }

    }


}

```





### å¤æ‚åº¦åˆ†æ

è¯¥ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦æ˜¯ é€’å½’æ·±åº¦ Ã— æ¯æ¬¡é€’å½’éœ€è¦çš„æ—¶é—´å¤æ‚åº¦ï¼Œå³ O(N^2)ï¼Œåœ¨ LeetCode ä¸Šæ˜¯æ— æ³•é€šè¿‡æ‰€æœ‰ç”¨ä¾‹çš„ï¼Œä¼šè¶…æ—¶ã€‚

## è§£æ³•äºŒ: è´ªå¿ƒï¼ˆæ›´ä¼˜ï¼‰

### ç®—æ³•åˆ†æ

**è´ªå¿ƒç®—æ³•æ¯”åŠ¨æ€è§„åˆ’å¤šäº†ä¸€ä¸ªæ€§è´¨ï¼šè´ªå¿ƒé€‰æ‹©æ€§è´¨**ã€‚æˆ‘çŸ¥é“å¤§å®¶éƒ½ä¸å–œæ¬¢çœ‹ä¸¥è°¨ä½†æ¯ç‡¥çš„æ•°å­¦å½¢å¼å®šä¹‰ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±æ¥ç›´è§‚åœ°çœ‹ä¸€çœ‹ä»€ä¹ˆæ ·çš„é—®é¢˜æ»¡è¶³è´ªå¿ƒé€‰æ‹©æ€§è´¨ã€‚

åˆšæ‰çš„åŠ¨æ€è§„åˆ’æ€è·¯ï¼Œä¸æ˜¯è¦ç©·ä¸¾æ‰€æœ‰å­é—®é¢˜ï¼Œç„¶åå–å…¶ä¸­æœ€å°çš„ä½œä¸ºç»“æœå—ï¼Ÿæ ¸å¿ƒçš„ä»£ç æ¡†æ¶æ˜¯è¿™æ ·ï¼š

java ğŸŸ¢cpp ğŸ¤–python ğŸ¤–go ğŸ¤–javascript ğŸ¤–

```java
int steps = nums[p];
// ä½ å¯ä»¥é€‰æ‹©è·³ 1 æ­¥ï¼Œ2 æ­¥...
for (int i = 1; i <= steps; i++) {
    // è®¡ç®—æ¯ä¸€ä¸ªå­é—®é¢˜çš„ç»“æœ
    int subProblem = dp(nums, p + i);
    res = min(subProblem + 1, res);
}
```

for å¾ªç¯ä¸­ä¼šé™·å…¥é€’å½’è®¡ç®—å­é—®é¢˜ï¼Œè¿™æ˜¯åŠ¨æ€è§„åˆ’æ—¶é—´å¤æ‚åº¦é«˜çš„æ ¹æœ¬åŸå› ã€‚

ä½†æ˜¯ï¼ŒçœŸçš„éœ€è¦ã€Œé€’å½’åœ°ã€è®¡ç®—å‡ºæ¯ä¸€ä¸ªå­é—®é¢˜çš„ç»“æœï¼Œç„¶åæ±‚æœ€å€¼å—ï¼Ÿ**ç›´è§‚åœ°æƒ³ä¸€æƒ³ï¼Œä¼¼ä¹ä¸éœ€è¦é€’å½’ï¼Œåªéœ€è¦åˆ¤æ–­å“ªä¸€ä¸ªé€‰æ‹©æœ€å…·æœ‰ã€Œæ½œåŠ›ã€å³å¯**ï¼š

![image-20230624213728472](https://2021-joker.oss-cn-shanghai.aliyuncs.com/java_img/image-20230624213728472.png)

æ¯”å¦‚ä¸Šå›¾è¿™ç§æƒ…å†µï¼Œæˆ‘ä»¬ç«™åœ¨ç´¢å¼• 0 çš„ä½ç½®ï¼Œå¯ä»¥å‘å‰è·³ 1ï¼Œ2 æˆ– 3 æ­¥ï¼Œä½ è¯´åº”è¯¥é€‰æ‹©è·³å¤šå°‘å‘¢ï¼Ÿ

**æ˜¾ç„¶åº”è¯¥è·³ 2 æ­¥è°ƒåˆ°ç´¢å¼• 2ï¼Œå› ä¸º `nums[2]` çš„å¯è·³è·ƒåŒºåŸŸæ¶µç›–äº†ç´¢å¼•åŒºé—´ `[3..6]`ï¼Œæ¯”å…¶ä»–çš„éƒ½å¤§**ã€‚å¦‚æœæƒ³æ±‚æœ€å°‘çš„è·³è·ƒæ¬¡æ•°ï¼Œé‚£ä¹ˆå¾€ç´¢å¼• 2 è·³å¿…ç„¶æ˜¯æœ€ä¼˜çš„é€‰æ‹©ã€‚

ä½ çœ‹ï¼Œ**è¿™å°±æ˜¯è´ªå¿ƒé€‰æ‹©æ€§è´¨ï¼Œæˆ‘ä»¬ä¸éœ€è¦ã€Œé€’å½’åœ°ã€è®¡ç®—å‡ºæ‰€æœ‰é€‰æ‹©çš„å…·ä½“ç»“æœç„¶åæ¯”è¾ƒæ±‚æœ€å€¼ï¼Œè€Œåªéœ€è¦åšå‡ºé‚£ä¸ªæœ€æœ‰ã€Œæ½œåŠ›ã€ï¼Œçœ‹èµ·æ¥æœ€ä¼˜çš„é€‰æ‹©å³å¯**ã€‚

ç»•è¿‡è¿™ä¸ªå¼¯å„¿æ¥ï¼Œå°±å¯ä»¥å†™ä»£ç äº†ï¼š

### ä»£ç 

```java

/**
 * <p>
 * è·³è·ƒæ¸¸æˆ II
 * </p>
 *
 * @author admin
 * @date 2023/6/24
 */
public class leetcode45 {

    public static void main(String[] args) {
        int[] nums = {2, 3, 1, 1, 4};

        Solution02 solution02 = new Solution02();
        System.out.println(solution02.jump(nums));
    }


    /**
     * è§£æ³•äºŒï¼šè´ªå¿ƒ
     */
    private static class Solution02 {

        public int jump(int[] nums) {
            int n = nums.length;
            // i å’Œ end æ ‡è®°äº†å¯ä»¥é€‰æ‹©çš„è·³è·ƒæ­¥æ•°
            // farthest æ ‡è®°äº†æ‰€æœ‰é€‰æ‹© [i..end] ä¸­èƒ½å¤Ÿè·³åˆ°çš„æœ€è¿œè·ç¦»
            int end = 0, farthest = 0;
            // jumps è®°å½•äº†è·³è·ƒæ¬¡æ•°
            int jumps = 0;
            for (int i = 0; i < n - 1; i++) {
                farthest = Math.max(nums[i] + i, farthest);
                if (end == i) {
                    jumps++;
                    end = farthest;
                }
            }

            return jumps;
        }

    }

}

```



ç»“åˆåˆšæ‰é‚£ä¸ªå›¾ï¼Œå°±çŸ¥é“è¿™æ®µçŸ­å°ç²¾æ‚çš„ä»£ç åœ¨å¹²ä»€ä¹ˆäº†ï¼š

![image-20230624213820578](https://2021-joker.oss-cn-shanghai.aliyuncs.com/java_img/image-20230624213820578.png)

`i` å’Œ `end` æ ‡è®°äº†å¯ä»¥é€‰æ‹©çš„è·³è·ƒæ­¥æ•°ï¼Œ`farthest` æ ‡è®°äº†æ‰€æœ‰é€‰æ‹© `[i..end]` ä¸­èƒ½å¤Ÿè·³åˆ°çš„æœ€è¿œè·ç¦»ï¼Œ`jumps` è®°å½•äº†è·³è·ƒæ¬¡æ•°ã€‚

### å¤æ‚åº¦åˆ†æ

æœ¬ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ O(N)ï¼Œç©ºé—´å¤æ‚åº¦ O(1)ï¼Œå¯ä»¥è¯´æ˜¯éå¸¸é«˜æ•ˆï¼ŒåŠ¨æ€è§„åˆ’éƒ½è¢«åŠèµ·æ¥æ‰“äº†ã€‚





# THE END