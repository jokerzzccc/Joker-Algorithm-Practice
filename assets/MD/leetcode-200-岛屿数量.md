# ç›®å½•

[toc]

# leetcode-200-å²›å±¿æ•°é‡

- æ—¶é—´ï¼š2023-06-26
- å‚è€ƒé“¾æ¥ï¼š
  - [ä¸€æ–‡ç§’æ€æ‰€æœ‰å²›å±¿é¢˜ç›®](https://labuladong.gitee.io/algo/di-san-zha-24031/bao-li-sou-96f79/yi-wen-mia-4f482/)
  - 


# å‰æ™¯çŸ¥è¯†

**å²›å±¿ç³»åˆ—é¢˜ç›®çš„æ ¸å¿ƒè€ƒç‚¹å°±æ˜¯ç”¨ DFS/BFS ç®—æ³•éå†äºŒç»´æ•°ç»„**ã€‚

æœ¬æ–‡ä¸»è¦æ¥è®²è§£å¦‚ä½•ç”¨ DFS ç®—æ³•æ¥ç§’æ€å²›å±¿ç³»åˆ—é¢˜ç›®ï¼Œä¸è¿‡ç”¨ BFS ç®—æ³•çš„æ ¸å¿ƒæ€è·¯æ˜¯å®Œå…¨ä¸€æ ·çš„ï¼Œæ— éå°±æ˜¯æŠŠ DFS æ”¹å†™æˆ BFS è€Œå·²ã€‚

é‚£ä¹ˆå¦‚ä½•åœ¨äºŒç»´çŸ©é˜µä¸­ä½¿ç”¨ DFS æœç´¢å‘¢ï¼Ÿå¦‚æœä½ æŠŠäºŒç»´çŸ©é˜µä¸­çš„æ¯ä¸€ä¸ªä½ç½®çœ‹åšä¸€ä¸ªèŠ‚ç‚¹ï¼Œè¿™ä¸ªèŠ‚ç‚¹çš„ä¸Šä¸‹å·¦å³å››ä¸ªä½ç½®å°±æ˜¯ç›¸é‚»èŠ‚ç‚¹ï¼Œé‚£ä¹ˆæ•´ä¸ªçŸ©é˜µå°±å¯ä»¥æŠ½è±¡æˆä¸€å¹…ç½‘çŠ¶çš„ã€Œå›¾ã€ç»“æ„ã€‚

æ ¹æ® [å­¦ä¹ æ•°æ®ç»“æ„å’Œç®—æ³•çš„æ¡†æ¶æ€ç»´](https://labuladong.gitee.io/algo/di-ling-zh-bfe1b/xue-xi-sua-01220/)ï¼Œå®Œå…¨å¯ä»¥æ ¹æ®äºŒå‰æ ‘çš„éå†æ¡†æ¶æ”¹å†™å‡ºäºŒç»´çŸ©é˜µçš„ DFS ä»£ç æ¡†æ¶ï¼š

java ğŸŸ¢cpp ğŸ¤–python ğŸ¤–go ğŸ¤–javascript ğŸ¤–

```java
// äºŒå‰æ ‘éå†æ¡†æ¶
void traverse(TreeNode root) {
    traverse(root.left);
    traverse(root.right);
}

// äºŒç»´çŸ©é˜µéå†æ¡†æ¶
void dfs(int[][] grid, int i, int j, boolean[][] visited) {
    int m = grid.length, n = grid[0].length;
    if (i < 0 || j < 0 || i >= m || j >= n) {
        // è¶…å‡ºç´¢å¼•è¾¹ç•Œ
        return;
    }
    if (visited[i][j]) {
        // å·²éå†è¿‡ (i, j)
        return;
    }
    // è¿›å…¥èŠ‚ç‚¹ (i, j)
    visited[i][j] = true;
    dfs(grid, i - 1, j, visited); // ä¸Š
    dfs(grid, i + 1, j, visited); // ä¸‹
    dfs(grid, i, j - 1, visited); // å·¦
    dfs(grid, i, j + 1, visited); // å³
}
```

å› ä¸ºäºŒç»´çŸ©é˜µæœ¬è´¨ä¸Šæ˜¯ä¸€å¹…ã€Œå›¾ã€ï¼Œæ‰€ä»¥éå†çš„è¿‡ç¨‹ä¸­éœ€è¦ä¸€ä¸ª `visited` å¸ƒå°”æ•°ç»„é˜²æ­¢èµ°å›å¤´è·¯ï¼Œå¦‚æœä½ èƒ½ç†è§£ä¸Šé¢è¿™æ®µä»£ç ï¼Œé‚£ä¹ˆæå®šæ‰€æœ‰å²›å±¿ç³»åˆ—é¢˜ç›®éƒ½å¾ˆç®€å•ã€‚

è¿™é‡Œé¢å¤–è¯´ä¸€ä¸ªå¤„ç†äºŒç»´æ•°ç»„çš„å¸¸ç”¨å°æŠ€å·§ï¼Œä½ æœ‰æ—¶ä¼šçœ‹åˆ°ä½¿ç”¨ã€Œæ–¹å‘æ•°ç»„ã€æ¥å¤„ç†ä¸Šä¸‹å·¦å³çš„éå†ï¼Œå’Œå‰æ–‡ [union-find ç®—æ³•è¯¦è§£](https://labuladong.gitee.io/algo/di-yi-zhan-da78c/shou-ba-sh-03a72/bing-cha-j-323f3/) çš„ä»£ç å¾ˆç±»ä¼¼ï¼š

java ğŸŸ¢cpp ğŸ¤–python ğŸ¤–go ğŸ¤–javascript ğŸ¤–

```java
// æ–¹å‘æ•°ç»„ï¼Œåˆ†åˆ«ä»£è¡¨ä¸Šã€ä¸‹ã€å·¦ã€å³
int[][] dirs = new int[][]{{-1,0}, {1,0}, {0,-1}, {0,1}};

void dfs(int[][] grid, int i, int j, boolean[][] visited) {
    int m = grid.length, n = grid[0].length;
    if (i < 0 || j < 0 || i >= m || j >= n) {
        // è¶…å‡ºç´¢å¼•è¾¹ç•Œ
        return;
    }
    if (visited[i][j]) {
        // å·²éå†è¿‡ (i, j)
        return;
    }

    // è¿›å…¥èŠ‚ç‚¹ (i, j)
    visited[i][j] = true;
    // é€’å½’éå†ä¸Šä¸‹å·¦å³çš„èŠ‚ç‚¹
    for (int[] d : dirs) {
        int next_i = i + d[0];
        int next_j = j + d[1];
        dfs(grid, next_i, next_j, visited);
    }
    // ç¦»å¼€èŠ‚ç‚¹ (i, j)
}
```

è¿™ç§å†™æ³•æ— éå°±æ˜¯ç”¨ for å¾ªç¯å¤„ç†ä¸Šä¸‹å·¦å³çš„éå†ç½¢äº†ï¼Œä½ å¯ä»¥æŒ‰ç…§ä¸ªäººå–œå¥½é€‰æ‹©å†™æ³•ã€‚



# 1ã€é¢˜ç›®

- é¢˜ç›®ï¼šhttps://leetcode.cn/problems/number-of-islands/
- éš¾åº¦ï¼šä¸­ç­‰

ç»™ä½ ä¸€ä¸ªç”± '1'ï¼ˆé™†åœ°ï¼‰å’Œ '0'ï¼ˆæ°´ï¼‰ç»„æˆçš„çš„äºŒç»´ç½‘æ ¼ï¼Œè¯·ä½ è®¡ç®—ç½‘æ ¼ä¸­å²›å±¿çš„æ•°é‡ã€‚

å²›å±¿æ€»æ˜¯è¢«æ°´åŒ…å›´ï¼Œå¹¶ä¸”æ¯åº§å²›å±¿åªèƒ½ç”±æ°´å¹³æ–¹å‘å’Œ/æˆ–ç«–ç›´æ–¹å‘ä¸Šç›¸é‚»çš„é™†åœ°è¿æ¥å½¢æˆã€‚

æ­¤å¤–ï¼Œä½ å¯ä»¥å‡è®¾è¯¥ç½‘æ ¼çš„å››æ¡è¾¹å‡è¢«æ°´åŒ…å›´ã€‚

ç¤ºä¾‹ 1ï¼š

```sh
è¾“å…¥ï¼šgrid = [
  ["1","1","1","1","0"],
  ["1","1","0","1","0"],
  ["1","1","0","0","0"],
  ["0","0","0","0","0"]
]
è¾“å‡ºï¼š1
```



æç¤ºï¼š

- `m == grid.length`
- `n == grid[i].length`
- `1 <= m, n <= 300`
- `grid[i][j]` çš„å€¼ä¸º '0' æˆ– '1'





# 2ã€é¢˜è§£

## é¢˜ç›®åˆ†æ

æ€è·¯å¾ˆç®€å•ï¼Œå…³é”®åœ¨äºå¦‚ä½•å¯»æ‰¾å¹¶æ ‡è®°ã€Œå²›å±¿ã€ï¼Œè¿™å°±è¦ DFS ç®—æ³•å‘æŒ¥ä½œç”¨äº†ã€‚

ä¸ºäº†æ±‚å‡ºå²›å±¿çš„æ•°é‡ï¼Œæˆ‘ä»¬å¯ä»¥æ‰«ææ•´ä¸ªäºŒå †ç½‘æ ¼ã€‚å¦‚æœä¸€ä¸ªä½ç½®ä¸º1ï¼Œåˆ™ä»¥å…¶ä¸ºèµ·å§‹èŠ‚ç‚¹å¼€å§‹è¿›è¡Œæ·±åº¦ä¼˜
å…ˆæœç´¢ã€‚åœ¨æ·±åº¦ä¼˜å…ˆæœç´¢çš„è¿‡ç¨‹ä¸­ï¼Œæ¯ä¸ªæœç´¢åˆ°çš„1éƒ½ä¼šè¢«é‡æ–°æ ‡è®°ä¸º0ã€‚
æœ€ç»ˆå²›å±¿çš„æ•°é‡å°±æ˜¯æˆ‘ä»¬è¿›è¡Œæ·±åº¦ä¼˜å…ˆæœç´¢çš„æ¬¡æ•°ã€‚



**ä¸ºä»€ä¹ˆæ¯æ¬¡é‡åˆ°å²›å±¿ï¼Œéƒ½è¦ç”¨ DFS ç®—æ³•æŠŠå²›å±¿ã€Œæ·¹äº†ã€å‘¢ï¼Ÿä¸»è¦æ˜¯ä¸ºäº†çœäº‹ï¼Œé¿å…ç»´æŠ¤ `visited` æ•°ç»„**ã€‚

å› ä¸º `dfs` å‡½æ•°éå†åˆ°å€¼ä¸º `0` çš„ä½ç½®ä¼šç›´æ¥è¿”å›ï¼Œæ‰€ä»¥åªè¦æŠŠç»è¿‡çš„ä½ç½®éƒ½è®¾ç½®ä¸º `0`ï¼Œå°±å¯ä»¥èµ·åˆ°ä¸èµ°å›å¤´è·¯çš„ä½œç”¨ã€‚

## è§£æ³•ä¸€

### ç®—æ³•åˆ†æ





### ä»£ç 

```java


/**
 * <p>
 * å²›å±¿æ•°é‡
 * </p>
 *
 * @author admin
 * @date 2023/6/26
 */
public class leetcode200 {

    public static void main(String[] args) {
        char[][] grid = {
                {'1', '1', '1', '1', '0'},
                {'1', '1', '0', '1', '0'},
                {'1', '1', '0', '0', '0'},
                {'0', '0', '0', '0', '0'}
        };

        Solution01 solution01 = new Solution01();
        int islands01 = solution01.numIslands(grid);
        System.out.println(islands01);

    }

    /**
     * è§£æ³•ä¸€ï¼šDFS
     */
    private static class Solution01 {

        public int numIslands(char[][] grid) {
            int res = 0;
            int m = grid.length, n = grid[0].length;
            // éå† grid
            for (int i = 0; i < m; i++) {
                for (int j = 0; j < n; j++) {
                    if (grid[i][j] == '1') {
                        // æ¯å‘ç°ä¸€ä¸ªå²›å±¿ï¼Œå²›å±¿æ•°é‡åŠ ä¸€
                        res++;
                        // ç„¶åä½¿ç”¨ DFS å°†å²›å±¿æ·¹äº†,å³ï¼Œ1ç›¸é‚»çš„å…¨éƒ¨å˜ä¸º0
                        dfs(grid, i, j);
                    }
                }
            }

            return res;
        }

        // ä» (i, j) å¼€å§‹ï¼Œå°†ä¸ä¹‹ç›¸é‚»çš„é™†åœ°éƒ½å˜æˆæµ·æ°´
        void dfs(char[][] grid, int i, int j) {
            int m = grid.length, n = grid[0].length;
            // è¶…å‡ºç´¢å¼•è¾¹ç•Œ
            if (i < 0 || j < 0 || i >= m || j >= n) return;
            if (grid[i][j] == '0') {
                // å·²ç»æ˜¯æµ·æ°´äº†
                return;
            }
            // å°† (i, j) å˜æˆæµ·æ°´
            grid[i][j] = '0';
            // æ·¹æ²¡ä¸Šä¸‹å·¦å³çš„é™†åœ°
            dfs(grid, i + 1, j);
            dfs(grid, i - 1, j);
            dfs(grid, i, j + 1);
            dfs(grid, i, j - 1);
        }

    }

}

```





### å¤æ‚åº¦åˆ†æ

- æ—¶é—´å¤æ‚åº¦ï¼šO(MN),å…¶ä¸­Må’ŒNåˆ†åˆ«ä¸ºè¡Œæ•°å’Œåˆ—æ•°ã€‚
- ç©ºé—´å¤æ‚åº¦ï¼šO(MN),åœ¨æœ€åæƒ…å†µä¸‹ï¼Œæ•´ä¸ªç½‘æ ¼å‡ä¸ºé™†åœ°ï¼Œæ·±åº¦ä¼˜å…ˆæœç´¢çš„æ·±åº¦è¾¾åˆ°MNã€‚









# THE END